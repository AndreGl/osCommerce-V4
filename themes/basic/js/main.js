function validateFormSubmit(t){$(".required-error").length>0&&t.preventDefault()}function validateForm(){$("input.validate-element, select.validate-element, textarea.validate-element",this).each(function(){validateFormElement({data:{validateElement:$(this)}})})}function validateFormElement(t){var e=t.data.validateElement,a=e.data("required"),i=e.data("pattern"),s=e.data("confirmation"),n=!1;if(e.hasClass("skip-validation"))return!0;if(i?("email"===i&&(i=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),-1===e.val().search(i)&&(n=!0)):s?e.closest("form").find(s).val()!==e.val()&&(n=!0):"checkbox"===e.attr("type")?!1===e.prop("checked")&&(n=!0):e.val()||(n=!0),n){if("checkbox"===e.attr("type")){var o="";(o=e.parent().hasClass("bootstrap-switch-container")?e.closest(".bootstrap-switch").parent():e.parent()).addClass("required-error"),o.after('<div class="required-message-wrap"><div class="required-message">'+a+"</div></div>"),o.next().find(".required-message").hide().slideDown(300)}else e.hasClass("required-error")||(e.addClass("required-error"),e.after('<div class="required-message-wrap"><div class="required-message">'+a+"</div></div>"),e.next().find(".required-message").hide().slideDown(300));e.closest("form").addClass("not-valid")}else if("checkbox"===e.attr("type")){o="";(o=e.parent().hasClass("bootstrap-switch-container")?e.closest(".bootstrap-switch").parent():e.parent()).removeClass("required-error"),(r=o.next(".required-message-wrap")).find(".required-message").slideUp(300,function(){r.remove()})}else{var r;e.removeClass("required-error"),(r=e.next(".required-message-wrap")).find(".required-message").slideUp(300,function(){r.remove()})}}function validateScrollToError(){$(".required-error",this).length>0&&$("body, html").animate({scrollTop:$(".required-error:first",this).offset().top-100},500)}function alertMessage(t,e){$("body").append('<div class="popup-box-wrap"><div class="around-pop-up"></div><div class="popup-box"><div class="pop-up-close"></div><div class="pop-up-content '+(e||"alert-message")+'"></div></div></div>'),$(".pop-up-content:last").append(t);var a=($(window).height()-$(".popup-box").height())/2;a<0&&(a=0),$(".popup-box-wrap").css("top",$(window).scrollTop()+a),$(".pop-up-close, .around-pop-up").click(function(){return $(".popup-box-wrap:last").remove(),!1}),$(".popup-box").on("click",".btn-cancel",function(){return $(".popup-box-wrap:last").remove(),!1})}function confirmMessage(t,e,a,i){a||(a="Ok"),i||(i="Cancel"),$("body").append('<div class="popup-box-wrap confirm-popup"><div class="around-pop-up"></div><div class="popup-box"><div class="pop-up-close"></div><div class="pop-up-content"><div class="confirm-text">'+t+'</div><div class="buttons"><span class="btn btn-cancel">'+i+'</span><span class="btn btn-default btn-success">'+a+"</span></div></div></div></div>");var s=$(".popup-box:last"),n=($(window).height()-s.height())/2;n<0&&(n=0),$(".popup-box-wrap").css("top",$(window).scrollTop()+n),$(".btn-cancel, .pop-up-close",s).on("click",function(){$(".popup-box-wrap:last").remove()}),$(".btn-success",s).on("click",function(){e(),$(".popup-box-wrap:last").remove()})}if($.fn.inRow=function(t,e){return this.each(function(){var a=0,i=$(this);$.each(t,function(t,s){var n=0;a=0;var o=[],r=0,l=0,d=i.find(s).length;i.find(s).each(function(t){o[r]=$(this);var i=e;if(t%e==e-1&&0!=t||t==d-1){for(t==d-1&&d%e!=0&&(i=d%e),a=0,l=0;l<i;l++)o[l]&&(o[l].css("min-height","0"),"border-box"==o[l].css("box-sizing")?(n=o[l].height(),n+=1*o[l].css("padding-top").replace(/[^0-9]+/,""),n+=1*o[l].css("padding-bottom").replace(/[^0-9]+/,"")):n=o[l].height(),a<n&&(a=n));for(l=0;l<i;l++)o[l]&&o[l].css("min-height",a);r=-1}r++})})})},$.fn.closeable=function(t){return t=$.extend({eventClass:".closeable-event",contentClass:".closeable-content",headingClass:".closeable-heading",closedClass:"closed"},t),this.each(function(){var a=$(this),i=(a.attr("id"),$(t.contentClass+":first",a)),s=$(t.headingClass+":first",a),n=e(a);function o(){var n=e(a);"closed"===n||!n&&s.hasClass(t.closedClass)?(s.removeClass(t.closedClass),i.slideDown(),e(a,"opened")):(s.addClass(t.closedClass),i.slideUp(),e(a,"closed"))}"closed"===n||!n&&s.hasClass(t.closedClass)?(s.addClass(t.closedClass),i.hide()):(s.removeClass(t.closedClass),i.show()),$(t.eventClass+":first",a).off("click",o).on("click",o)});function e(t,e){var a=JSON.parse(localStorage.getItem("boxStates")),i=t.attr("id");if(!e)return!!(i&&a&&a[i])&&a[i];i&&(a||(a={}),a[i]=e,localStorage.setItem("boxStates",JSON.stringify(a)))}},$.fn.backCounter=function(t){return t=$.extend({daysBox:".box-days",hoursBox:".box-hours",minutesBox:".box-minutes",secondsBox:".box-seconds",daysElement:".left-count-days",hoursElement:".left-count-hours",minutesElement:".left-count-minutes",secondsElement:".left-count-seconds"},t),this.each(function(){var e=$(t.daysBox,this),a=$(t.hoursBox,this),i=$(t.minutesBox,this),s=$(t.secondsBox,this),n=$(t.daysElement,this),o=$(t.hoursElement,this),r=$(t.minutesElement,this),l=$(t.secondsElement,this),d=1*n.text(),c=1*o.text(),p=1*r.text(),u=1*l.text(),h=d,f=c,v=p,m=u;setInterval(function(){u<=0&&p<=0&&c<=0&&d<=0&&location.reload(),d||!e.is(":visible")&&!i.is(":hidden")||(e.hide(),i.show()),d||c||!a.is(":visible")&&!s.is(":hidden")||(a.hide(),s.show()),(u-=1)<0&&(u=59,(p-=1)<0&&(p=59,(c-=1)<0&&(c=23,(d-=1)<0&&(d=0)))),h!==d&&n.text(d+""),f!==c&&o.text(c+""),v!==p&&r.text(p+""),m!==u&&l.text(u+""),h=d,f=c,v=p,m=u},1e3)})},$.fn.quantity=function(t){return t=$.extend({min:1,max:!1,step:1,virtual_item_qty:1,virtual_item_step:[1],event:function(){}},t),this.each(function(){var e,a=$(this);if(""===a.val()&&a.val("0"),!a.parent().hasClass("qty-box")){var i=(e=0,function(t,a){clearTimeout(e),e=setTimeout(t,a||300)}),s={"+":1,"-":-1,PageUp:10,PageDown:-10},n=0,o=0,r=0,l=1,d=[1];a.wrap('<span class="qty-box"></span>');var c=a.closest(".qty-box");c.prepend('<span class="smaller"></span>');var p=$(".smaller",c);c.append('<span class="bigger"></span>');var u=$(".bigger",c),h=a.val();a.on("changeSettings",function(e,i){var s=!1,c=a.attr("data-min")?parseInt(a.attr("data-min"),10):t.min,p=a.attr("data-max")?parseInt(a.attr("data-max"),10):t.max,u=a.attr("data-step")?parseInt(a.attr("data-step"),10):t.step,h=a.attr("data-virtual-item-qty")?parseInt(a.attr("data-virtual-item-qty"),10):t.virtual_item_qty,f=a.attr("data-virtual-item-step")?a.data("virtual-item-step"):t.virtual_item_step;!1!==p&&n>o&&(p=!1,a.attr("data-error","min > max")),n!==c&&(s=!0),!1!==p&&o!==p&&(s=!0),r!==u&&(s=!0),l!==h&&(s=!0),d!==f&&(s=!0),n=c,o=p,r=u,(l=h)<1&&(l=1),d=f,$.isArray(d)||(d=[1]),$.each(d,function(t){d[t]=parseInt(this,10)}),s&&!i&&a.trigger("check_quantity")}),a.trigger("changeSettings",!0),a.on("focus",function(){this.select()}),u.on("click",function(){if(!$(this).hasClass("disabled")){h=a.data("value-real");let t=parseInt(h,10);if(h=parseInt(h,10)+r,l>1&&d.length>0){let e=h%l,a=$.inArray(e,d);0!=e&&a<0&&(e=t%l,a=$.inArray(e,d),h=0==e?t+l-d[d.length-1]:void 0!==d[a+1]?t+d[a+1]-d[a]:l*Math.ceil(h/l))}a.trigger("check_quantity",[h])}}),p.on("click",function(){if(!$(this).hasClass("disabled")){if((h=a.data("value-real"))===""+n&&(a.attr("data-zero-init")||a.attr("data-min")&&"0"===a.attr("data-min")))h=0;else{let t=parseInt(h,10);if((h=parseInt(h,10)-r)>n&&l>1&&d.length>0){let e=h%l,a=$.inArray(e,d);0!=e&&a<0&&(e=t%l,a=$.inArray(e,d),h=0==e?t-l+d[d.length-1]:void 0!==d[a-1]?t+d[a-1]-d[a]:l*Math.floor(h/l))}h<n&&(h=n)}a.trigger("check_quantity",[h])}}),a.on("check_quantity",function(e,s,c){var h=parseInt(a.data("value-real")||a.val(),10),f=0===s?s:parseInt(s||h,10),v=0,m=!!a.attr("data-zero-init")||a.attr("data-min")&&"0"===a.attr("data-min");if(isNaN(f))return;if(m&&0===f);else{var g=Math.max(n,f,1);if(n>r&&(v=n),g>n&&(g-v)%r!=0&&(g=v+(Math.floor((g-v)/r)+1)*r),f=g,l>1&&d.length>0){let t=f%l,e=$.inArray(t,d);0!=t&&e<0&&($.each(d,function(){if(this>t)return e=this,!1}),f=e>=0?f+e-t:l*Math.ceil(f/l))}}!1!==o&&(f>=o?(f=o,a.trigger("qty_max",[f,o]),u.addClass("disabled")):u.removeClass("disabled")),!1!==n&&(m?f>0?p.removeClass("disabled"):(f=0,p.addClass("disabled")):f>n?p.removeClass("disabled"):(""!==a.val()&&(f=n),p.addClass("disabled")));let w=f;l>1&&(w=(w/l).toFixed(2)),a.val(w),a.data("value-real",f),a.data("last-value",f),(h!==f||c)&&i(function(){a.trigger("change"),t.event()})}),a.on("reset_good_quantity",function(){a.trigger("check_quantity",[a.data("last-value")||0])}),a.on("blur",function(){(""===a.val()||isNaN(parseInt(a.val(),10)))&&a.trigger("reset_good_quantity")}),a.on("keydown",function(t){if(27===t.keyCode)return a.trigger("reset_good_quantity"),!1;if(s[t.key]){if(!isNaN(parseInt(a.val(),10))){var e=parseInt(a.val(),10)+s[t.key];a.val(e<0?0:e)}return!1}return!0}),a.on("keyup",function(t){var e=a.val().replace(l>1?/[^0-9\.]/g:/[^0-9]/g,"");i(function(){a.trigger("check_quantity",[e*l,!0])},500)}),a.trigger("check_quantity")}})},$.fn.validate=function(t){return op=$.extend({onlyCheck:!1},t),$(this).closest("form").removeClass("not-valid"),this.each(function(){var t=$(this);return!t.data("required")||(t.on("check",{validateElement:t},validateFormElement),!!op.onlyCheck||(t.addClass("validate-element"),t.on("change",{validateElement:t},validateFormElement),t.on("keyup",{validateElement:t},validateFormElement),op.onlyCheck&&t.on("change",{validateElement:t},validateFormElement),t.on("remove-validate",function(){t.removeClass("validate-element"),t.off("change",validateFormElement),t.removeClass("required-error"),t.next(".required-message-wrap").remove(),t.off("keyup",validateFormElement),op.onlyCheck&&t.off("change",validateFormElement)}),t.closest("form").off("submit",validateForm).on("submit",validateForm),t.closest("form").off("submit",validateScrollToError).on("submit",validateScrollToError),void t.closest("form").off("submit",validateFormSubmit).on("submit",validateFormSubmit)))})},$.fn.popUp=function(t){var e=jQuery.extend({beforeSend:function(){},overflow:!1,box_class:!1,one_popup:!0,data:[],event:!1,action:!1,type:!1,box:'<div class="popup-box-wrap"><div class="around-pop-up"></div><div class="popup-box"><div class="pop-up-close"></div><div class="pop-up-content"><div class="preloader"></div></div></div></div>',dataType:"html",success:function(t,a){var i=$(window).scrollTop();$(".pop-up-content:last").html(t),$(window).scrollTop(i),e.position(a)},close:function(){$(".pop-up-close, .around-pop-up").click(function(){return $(".popup-box:last").trigger("popup.close"),$(".popup-box-wrap:last").remove(),!1}),$(".popup-box").on("click",".btn-cancel",function(){return $(".popup-box:last").trigger("popup.close"),$(".popup-box-wrap:last").remove(),!1})},position:function(t){var e=($(window).height()-$(".popup-box").height())/2;e<0&&(e=0),$(".popup-box-wrap").css("top",$(window).scrollTop()+e)},opened:function(){}},t),a=$("body");$("html");return this.each(function(){if($(this).hasClass("set-popup"))return!1;$(this).addClass("set-popup");var t="",i="";"a"==$(this).get(0).localName?(e.event||(i="click"),e.action||(t="href")):"form"==$(this).get(0).localName&&(e.event||(i="submit"),e.action||(t="action")),"show"==e.event&&(i="load"),jQuery(this).on(i,function(i){i.preventDefault(),e.one_popup&&($(".popup-box:last").trigger("popup.close"),$(".popup-box-wrap").remove());var s="";s=e.action?e.action:$(this).attr(t),a.append(e.box);var n=$(".popup-box:last");$(this).attr("data-class")&&n.addClass($(this).attr("data-class")),e.box_class&&n.addClass(e.box_class),e.position(n);var o=function(){e.position(n)};if($(window).on("window.resize",o),n.on("popup.close",function(){$(window).off("window.resize",o)}),"show"==e.event)e.success($(this).html(),n),e.opened(d);else{var r={};"form"==$(this).get(0).localName?((r=$(this).serializeArray()).push(e.data),r.push({name:"popup",value:"true"})):r=$.extend($.extend(r,e.data),e.beforeSend());var l="";l=e.type||"form"!=$(this).get(0).localName?"POST"!=e.type?"GET":"POST":$(this).attr("method"),"jsonp"==e.dataType&&(r="encode_date="+base64_encode($.param(r)));var d=$(this);-1!=s.search("#")?(e.success($(s).html(),n),e.opened(d)):$.ajax({url:s,data:r,dataType:e.dataType,type:l,crossDomain:!1,success:function(t){e.success(t,n),e.opened(d)}})}return e.close(),!1}),$(this).trigger("load")})},$.fn.radioHolder=function(t){t=$.extend({holder:"label"},t);var e=this;return this.each(function(){var a=$(this).closest(t.holder);$(this).is(":checked")?a.addClass("active"):a.removeClass("active"),$(this).on("change",function(){e.each(function(){var e=$(this).closest(t.holder);$(this).is(":checked")?e.addClass("active"):e.removeClass("active")})})})},$.fn.rating=function(t,e){t=t||"create";var a=$.extend({limit:5,value:0,glyph:"glyphicon-star",coloroff:"#ccc",coloron:"#183d78",size:"2.0em",cursor:"default",onClick:function(){},endofarray:"idontmatter"},e),i="";if(i=(i=i+"font-size:"+a.size+"; ")+"cursor:"+a.cursor+"; ","create"==t){this.each(function(){attr=$(this).attr("data-rating"),void 0!==attr&&!1!==attr||$(this).attr("data-rating",a.value)});for(var s=0;s<a.limit;s++){var n=this.attr("data-text"+(s+1));void 0===n&&(n=""),this.append('<span title="'+n+'" data-value="'+(s+1)+'" class="ratingicon glyphicon '+a.glyph+'" style="'+i+'" aria-hidden="true"></span>')}this.each(function(){o($(this))})}if("set"==t&&(this.attr("data-rating",e),this.each(function(){o($(this))})),"get"==t)return this.attr("data-rating");function o(t){rating=parseInt(t.attr("data-rating")),t.find("input").val(rating);var e=t.attr("data-text"+rating);t.find("span.rating-description").remove(),void 0!==e&&t.append(' <span class="rating-description">'+e+"</span>"),t.find("span.ratingicon").each(function(){var t=parseInt($(this).parent().attr("data-rating"));parseInt($(this).attr("data-value"))>t?$(this).removeClass("coloron"):$(this).addClass("coloron")})}this.find("span.ratingicon").click(function(){rating=$(this).attr("data-value"),$(this).parent().attr("data-rating",rating),o($(this).parent()),a.onClick.call($(this).parent())})},$.fn.hideTab=function(){return this.each(function(){$(this).css({padding:0,margin:0,height:0,"min-height":0,overflow:"hidden",border:"none"})})},$.fn.showTab=function(){return this.each(function(){$(this).removeAttr("style")})},jQuery.cookie=function(t,e,a){if(void 0===e){var i=null;if(document.cookie&&""!=document.cookie)for(var s=document.cookie.split(";"),n=0;n<s.length;n++){var o=jQuery.trim(s[n]);if(o.substring(0,t.length+1)==t+"="){i=decodeURIComponent(o.substring(t.length+1));break}}return i}a=a||{},null===e&&(e="",a.expires=-1);var r,l="";a.expires&&("number"==typeof a.expires||a.expires.toUTCString)&&("number"==typeof a.expires?(r=new Date).setTime(r.getTime()+24*a.expires*60*60*1e3):r=a.expires,l="; expires="+r.toUTCString());var d=a.path?"; path="+a.path:"",c=a.domain?"; domain="+a.domain:"",p=a.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),l,d,c,p].join("")},"undefined"!=typeof useCarousel&&useCarousel){var products_carousel=function(){var t={products_ids:[],prevLink:!1,nextLink:!1,init:function(){localStorage.hasOwnProperty("idsOnListing")||(localStorage.idsOnListing=""),this.products_ids=new Array,$(window).on("unload",this.saveItems)},reset:function(){this.products_ids=new Array},addItem:function(t,e,a,i,s){var n={id:t,link:e,name:a,img:i,price:s};this.products_ids.push(n)},saveItems:function(){localStorage.idsOnListing=JSON.stringify(t.products_ids)},restoreItems:function(){localStorage.hasOwnProperty("idsOnListing")&&localStorage.idsOnListing.length&&(data=JSON.parse(localStorage.idsOnListing),t.reset(),Array.isArray(data)&&data.map(function(e,a){t.addItem(e.id,e.link,e.name,e.img,e.price)}))},fetchPrevLink:function(e){var a=!1;this.products_ids.map(function(i,s){i.id!=e?a=i:t.prevLink=a})},fetchNextLink:function(e){var a=!1;this.products_ids.map(function(i,s){i.id==e&&(a=!0),a&&i.id!=e&&(t.nextLink=i,a=!1)})},buildCursor:function(t){this.fetchPrevLink(t),this.fetchNextLink(t),this.sameCategoryProducts(t),this.prevLink&&$("body").append('<a href="'+this.prevLink.link+'" class="prev-next-product prev-product">                            <span class="pn-direction">'+window.tr.PREVIOUS_PRODUCT+'</span>                            <span class="pn-image">'+this.prevLink.img+'</span>                            <span class="pn-name">'+this.prevLink.name+'</span>                            <span class="pn-price">'+this.prevLink.price+"</span>                            </a>"),this.nextLink&&$("body").append('<a href="'+this.nextLink.link+'" class="prev-next-product next-product">                            <span class="pn-direction">'+window.tr.NEXT_PRODUCT+'</span>                            <span class="pn-image">'+this.nextLink.img+'</span>                            <span class="pn-name">'+this.nextLink.name+'</span>                            <span class="pn-price">'+this.nextLink.price+"</span>                            </a>")},sameCategoryProducts:function(e){if(this.prevLink||this.nextLink)return"";$.get("catalog/same-category-products",{id:e},function(a){a.forEach(function(e){t.addItem(e.id,e.link,e.name,e.img,e.price)}),t.fetchPrevLink(e),t.fetchNextLink(e)},"json")}};return t},pCarousel=new products_carousel;pCarousel.init()}var getProductsList=function(){var t=$(".products-listing");if(t.length>0){var e=t.offset(),a=t.width(),i=t.height();$("body").append('<div class="filter-listing-loader"></div>').append('<div class="filter-listing-preloader preloader"></div>');var s=$(".filter-listing-preloader"),n=$(".filter-listing-loader");n.css({left:e.left,top:e.top,width:a,height:i});var o=s.height()/2,r=s.width()/2,l=$(window).scrollTop()+($(window).height()/2-o);l<e.top+o&&(l=e.top+o),s.css({left:e.left+(a/2-r),top:l})}var d=$(this),c=d.attr("action");return void 0===c&&(c=d.attr("href")),$.ajax({url:c,data:d.serializeArray(),dataType:"html",success:function(t){window.compare_key=0,useCarousel&&pCarousel.reset(),$(".main-content").html(t);var e=$("#filters_url_full");if(e.length>0&&e.val().length>0)window.history.pushState(d.serializeArray(),"",e.val());else{var a="";if(d.attr("action")){a=d.attr("action");var i=d.serialize();i&&(a+=(-1===a.indexOf("?")?"?":"&")+i)}else a=d.attr("href")||window.location.href;window.history.pushState(d.serializeArray(),"",a)}n.remove(),s.remove()}}),!1};function isValidEmailAddress(t){return new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.) {2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i).test(t)}$.fn.scrollBox=function(t){return t=$.extend({marginTop:20,marginBottom:20,windowMaxWidth:1024,differentHeight:50},t),this.each(function(){var e,a,i,s,n,o,r,l=$(this),d=l.parent().parent();function c(){e=l.parent().offset().top,a=l.offset().left,i=l.width(),s=l.height(),n=l.parent().parent().height(),o=d.offset().top+d.height(),r=$(window).width()}function p(){var d=$(window).scrollTop();s=l.height(),d>=e-t.marginTop&&r>t.windowMaxWidth&&s<n-t.differentHeight?(l.css({position:"fixed",width:i,left:a,top:t.marginTop,"margin-left":0,"box-sizing":"content-box"}),d+s+t.marginTop>=o-t.marginBottom&&l.css({top:o-s-d-t.marginBottom})):l.css({position:"",width:"",left:"",top:"","margin-left":"","box-sizing":""})}setTimeout(function(){c(),p()},100),$(window).on("resize",c),$(window).on("scroll",p)})},$.fn.showPassword=function(){return this.each(function(){var t=$(this);if(t.hasClass("eye-applied"))return"";t.addClass("eye-applied");var e=$('<span class="eye-password"></span>'),a=$('<span class="eye-password-wrap"></span>');a.append(e),t.before(a),e.on("click",function(){"password"===t.attr("type")?(e.addClass("eye-password-showed"),t.attr("type","text")):(e.removeClass("eye-password-showed"),t.attr("type","password"))})})};